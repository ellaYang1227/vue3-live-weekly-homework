import{_ as u,R as _,j as n,s as d,L as l,c as h,a as s,b as f,F as v,r,o as A}from"./index-19b92a9d.js";import{N as R}from"./NavbarComponent-9ee967d1.js";import{A as V}from"./AuthStore-ae814f46.js";const{VITE_API_URL:k}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"ella-diving",BASE_URL:"/vue3-live-weekly-homework/week6/dist/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{}},components:{RouterView:_,NavbarComponent:R},beforeRouteEnter(c,i,o){const{getToken:e,removeToken:t}=V();n.defaults.headers.common.Authorization=e(),n.post(`${k}/api/user/check`).then(()=>{o()}).catch(()=>{d("popup","error","驗證失敗","您的身分驗證失敗，請重新登入"),t();const{hideLoading:a}=l();a(),setTimeout(()=>{o("/login")},1e3)})}},E={class:"py-5 fixed-top-margin-top"};function g(c,i,o,e,t,a){const p=r("NavbarComponent"),m=r("RouterView");return A(),h(v,null,[s(p,{layout:"admin"}),f("div",E,[s(m)])],64)}const N=u(w,[["render",g]]);export{N as default};
