import{b9 as m,b8 as g,m as i,u as w,n as t,F as h,au as x,aK as s,k as b,l as f,aw as p,ak as n,a4 as P}from"./_plugin-vue_export-helper-6502c603.js";import{L as y}from"./LoadingStore-e18babf0.js";import{P as k}from"./PaginationComponent-0f1a36b0.js";import"./runtime-dom.esm-bundler-e1985e08.js";const{VITE_API_URL:v,VITE_API_PATH:A}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"ella-diving",BASE_URL:"/vue3-live-weekly-homework/week6/dist/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{products:{}}},computed:{productTotal(){return this.products.data?Object.keys(this.products.data).length:0}},mounted(){this.getProducts()},components:{PaginationComponent:k},methods:{...g(y,["showLoading","hideLoading"]),getProducts(c=1){this.showLoading(),this.$http.get(`${v}/api/${A}/admin/products?page=${c}`).then(o=>{const{products:l,pagination:r}=o.data;this.products={data:l,pagination:r},this.hideLoading()}).catch(o=>{this.hideLoading(),this.$refs.sweetalert.showSwal("popup","error",o.response.data.message)})}}},V={class:"container"},C=t("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t("h1",{class:"mb-0 h4 fw-bold"},"產品管理")],-1),E={class:"table table-striped table-hover text-center align-middle"},I=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"400px"},"產品名稱"),t("th",{scope:"col",width:"170px"},"分類"),t("th",{scope:"col",width:"170px"},"廣告標籤"),t("th",{scope:"col",width:"170px"},"原價"),t("th",{scope:"col",width:"170px"},"售價"),t("th",{scope:"col",width:"170px"},"是否啟用")])],-1),S={class:"d-flex align-items-center"},T=["src","alt"],$={class:"h6 mb-0 text-truncate fw-bold"},D={scope:"row",class:"text-truncate"},B={class:"text-truncate"},R={class:"text-end"},U={class:"text-end"},N={scope:"col",colspan:"7",class:"text-start"};function O(c,o,l,r,a,d){const _=p("SweetalertComponent"),u=p("PaginationComponent");return n(),i(h,null,[w(_,{ref:"sweetalert"},null,512),t("div",V,[C,t("table",E,[I,t("tbody",null,[(n(!0),i(h,null,x(a.products.data,e=>(n(),i("tr",{key:e.id},[t("th",null,[t("div",S,[t("img",{src:e.imageUrl,alt:`${e.category} - ${e.title}`,class:"img-box flex-shrink-0 rounded border me-2"},null,8,T),t("h4",$,s(e.title),1)])]),t("td",D,s(e.category),1),t("td",B,s(e.AD_type?e.AD_type:"未分類"),1),t("td",R,"$"+s(e.origin_price),1),t("td",U,"$"+s(e.price),1),t("td",null,[t("strong",{class:P([e.is_enabled?"text-success":"text-danger"])},s(e.is_enabled?"啟用":"停用"),3)])]))),128))]),t("tfoot",null,[t("tr",null,[t("th",N,"產品數量："+s(d.productTotal)+" 筆",1)])])]),a.products.pagination?(n(),b(u,{key:0,pagination:a.products.pagination,onSwitchPage:d.getProducts},null,8,["pagination","onSwitchPage"])):f("",!0)])],64)}const K=m(L,[["render",O]]);export{K as default};
