import{_ as y,d as v,m as h,L as P,c as r,a as g,b as t,F as _,f as p,r as u,o as n,t as a,e as m,i as k,w as x}from"./index-19b92a9d.js";import{C as L}from"./CartStore-c2d62a00.js";import{g as C}from"./functions-5280628d.js";const{VITE_API_URL:$,VITE_API_PATH:A}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"ella-diving",BASE_URL:"/vue3-live-weekly-homework/week6/dist/",MODE:"production",DEV:!1,PROD:!0},E={data(){return{products:[],getHowPriceLess:C}},components:{RouterLink:v},mounted(){this.getProducts()},computed:{handleProducts(){return this.products.reduce((i,c)=>{const d=i.find(s=>s.category===c.category);if(d)d.products.push(c);else{const s={category:c.category,products:[]};s.products.push(c),i.push(s)}return i},[])}},methods:{...h(P,["showLoading","hideLoading"]),...h(L,["addCart"]),getProducts(){this.$http.get(`${$}/api/${A}/products/all`).then(o=>{this.hideLoading(),this.products=o.data.products}).catch(o=>{this.hideLoading(),this.$refs.sweetalert.showSwal("popup","error",o.response.data.message)})}}},I={class:"container"},V={class:"h5 fw-bold bg-light px-2 py-3"},T={class:"row row-cols-1 row-cols-md-3 row-cols-xl-4 g-4"},H={class:"card bg-light h-100"},R={class:"bg-white text-center img-box p-3"},S=["src","alt"],B={class:"card-body"},D={class:"card-title fw-bold"},N={class:"text-danger fw-bold"},U={key:0,class:"d-block text-black-50"},F={class:"card-footer pb-4 d-flex bg-transparent border-0"},O=["onClick"];function j(o,i,c,d,s,w){const f=u("sweetalert-component"),b=u("router-link");return n(),r(_,null,[g(f,{ref:"sweetalert"},null,512),t("div",I,[(n(!0),r(_,null,p(w.handleProducts,l=>(n(),r("div",{class:"pb-5",key:l.category},[t("h1",V,a(l.category),1),t("div",T,[(n(!0),r(_,null,p(l.products,e=>(n(),r("div",{class:"col",key:e.id},[t("div",H,[t("div",R,[t("img",{src:e.imageUrl,alt:`${e.category} - ${e.title}`,class:"img-object-fit-cover card-img-top"},null,8,S)]),t("div",B,[t("h5",D,a(e.title),1),t("div",N,[m(" $"+a(e.price),1),s.getHowPriceLess(e.origin_price,e.price)?(n(),r("small",U,"現省 $"+a(s.getHowPriceLess(e.origin_price,e.price)),1)):k("",!0)])]),t("div",F,[g(b,{to:`/product/${e.id}`,role:"button",class:"btn btn-outline-primary btn-sm flex-grow-1 flex-shrink-0 me-2"},{default:x(()=>[m("產品詳情")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-danger btn-sm flex-grow-1 flex-shrink-0",onClick:M=>o.addCart(e.id)}," 加入購物車 ",8,O)])])]))),128))])]))),128))])],64)}const J=y(E,[["render",j]]);export{J as default};
