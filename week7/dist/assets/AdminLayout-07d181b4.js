import{a}from"./axios-bff3f665.js";import{R as u}from"./vue-router-0d72b5b6.js";import{N as d}from"./NavbarComponent-5cfb4f65.js";import{d as _}from"./Sweetalert2-options-02b29ef3.js";import{A as l}from"./AuthStore-25b80c8b.js";import{L as f}from"./LoadingStore-344bc819.js";import{b9 as h,m as v,u as n,n as k,F as w,aw as s,ak as A}from"./plugin-vueexport-helper-6502c603.js";import"./index-dbc1bb04.js";const{VITE_API_URL:R}={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"ella-diving",BASE_URL:"/vue3-live-weekly-homework/week7/dist/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{}},components:{RouterView:u,NavbarComponent:d},beforeRouteEnter(i,m,o){const{getToken:e,removeToken:t}=l();a.defaults.headers.common.Authorization=e(),a.post(`${R}/api/user/check`).then(()=>{o()}).catch(()=>{t();const{hideLoading:r}=f();r(),_("popup","error","驗證失敗","您的身分驗證失敗，請重新登入").then(()=>{o("/login")})})}},E={class:"py-5 fixed-top-margin-top"};function g(i,m,o,e,t,r){const p=s("NavbarComponent"),c=s("RouterView");return A(),v(w,null,[n(p,{layout:"admin"}),k("div",E,[n(c)])],64)}const y=h(V,[["render",g]]);export{y as default};
